<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8"/>
    <title>测试页面</title>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <style>
        .el-select .el-input {
            width: 130px;
        }

        div.input-with-select {
            width: 500px;
            margin-bottom: 15px
        }

        .input-with-select .el-input-group__prepend {
            background-color: #fff;
        }
    </style>
</head>
<body>
<div id="app">
    <el-dialog :title="dialogTitle" :visible.sync="dialogEnabled" width="500px">
        <el-form ref="staff" :model="staff" label-width="80px">
            <el-form-item label="帐号名称">
                <el-input v-model="staff.username" :disabled="username_disabled"></el-input>
            </el-form-item>
            <el-form-item label="帐号密码">
                <el-input v-model="staff.loginpass" show-password></el-input>
            </el-form-item>
            <el-form-item label="帐号昵称">
                <el-input v-model="staff.nickname"></el-input>
            </el-form-item>
            <el-form-item label="帐号头像">
                <img :src="staff.headimage" alt="头像"/>
            </el-form-item>
            <el-form-item label="帐号类型">
                <el-select v-model="staff.type" placeholder="请选择帐号类型">
                    <el-option label="平台帐号" value="3"></el-option>
                    <el-option label="客服组长" value="2"></el-option>
                    <el-option label="客服" value="1"></el-option>
                    <el-option label="通用帐号" value="0"></el-option>
                </el-select>
            </el-form-item>
            <el-form-item label="状态">
                <el-radio-group v-model="staff.status">
                    <el-radio v-for="item in enums.status" :label="item.name" :key="item.value"></el-radio>
                </el-radio-group>
            </el-form-item>
        </el-form>
        <span slot="footer" class="dialog-footer">
            <el-button @click="dialogVisible = false">取 消</el-button>
            <el-button type="primary" @click="onSubmit('staff')">确 定</el-button>
        </span>
    </el-dialog>

    <el-breadcrumb separator-class="el-icon-arrow-right" class="pager">
        <el-breadcrumb-item :to="{ path: '/' }">首页</el-breadcrumb-item>
        <el-breadcrumb-item>活动管理</el-breadcrumb-item>
        <el-breadcrumb-item>活动列表</el-breadcrumb-item>
        <el-breadcrumb-item>活动详情</el-breadcrumb-item>
    </el-breadcrumb>
    <el-select size="small" v-model="status" clearable placeholder="请选择状态">
        <el-option v-for="item in enums.status" :key="item.value" :value="item.value" :label="item.name"></el-option>
    </el-select>
    <el-input size="small" placeholder="请输入内容" v-model="searchText" class="input-with-select">
        <el-select v-model="searchType" slot="prepend" clearable placeholder="搜索类型">
            <el-option label="帐号ID" value="1"></el-option>
            <el-option label="帐号名" value="2"></el-option>
            <el-option label="昵称" value="3"></el-option>
        </el-select>
        <el-button @click="btnSearchClick" slot="append" icon="el-icon-search"></el-button>
    </el-input>
    <div style="float:right;">
        <el-button size="small" @click="showInsertDialog" icon="el-icon-plus"></el-button>
        <el-button size="small" @click="search" icon="el-icon-refresh"></el-button>
    </div>
    <el-table :data="tableData" :border="true" v-loading="loading" element-loading-text="拼命加载中" element-loading-spinner="el-icon-loading" size="mini">
        <el-table-column prop="userid" label="帐号ID"></el-table-column>
        <el-table-column prop="username" label="帐号名称"></el-table-column>
        <el-table-column prop="nickname" label="昵称"></el-table-column>
        <el-table-column prop="type" label="类型"></el-table-column>
        <el-table-column prop="status" label="状态">
            <template slot-scope="scope">
                <label :class="scope.row.status == enums.status.ENABLE.value ? '' : 'red'">{{ enums.status.getName(scope.row.status) }}</label>
            </template>
        </el-table-column>
        <el-table-column label="操作">
            <template slot-scope="scope">
                <el-button-group>
                    <el-button size="mini" @click="toEdit(scope.row)" icon="el-icon-edit"></el-button>
                    <el-button size="mini" @click="toDelete(scope.row)"
                               :type="scope.row.status == enums.status.ENABLE.value ? 'danger' : 'success'"
                               :icon="scope.row.status == enums.status.ENABLE.value ? 'el-icon-close' : 'el-icon-refresh-left'"></el-button>
                </el-button-group>
            </template>
        </el-table-column>
    </el-table>
    <el-pagination slot="paging" class="pager" layout="total, prev, pager, next" :total="rowCount" :page-size="15" :current-page="page" @current-change="pageChanged"></el-pagination>


</div>

<script src="/file/js/core.js"></script>
<script src="/file/js/oa/staff.js"></script>
</body>
</html>